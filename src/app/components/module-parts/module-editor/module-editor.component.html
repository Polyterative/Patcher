<div class="col gap1"
>
  <div class="col gap1"
  >
    <div class="auto col gap1"
    >
      <div fxLayout="row"
           fxLayoutGap="1rem"
           fxLayoutAlign="space-between"
      >
        <mat-card-title>INs</mat-card-title>
        <mat-card-subtitle>leave fields blank if unknown</mat-card-subtitle>
      </div>
      <div class="col gap1 leftBorderS"
      >
        <ng-container *ngFor="let item of INs$|async; let i = index">
          <app-module-editor-cv-form-line [item]="item"
                                          (removeRequest$)="removeIN$.next(i)"
                                          [@enter]
                                          [@exit]
          ></app-module-editor-cv-form-line>

        </ng-container>

      </div>
      <app-module-editor-adder-line (add$)="addIN$.next($event)"></app-module-editor-adder-line>
    </div>
    <div class="auto col gap1"
    >
      <div fxLayout="row"
           fxLayoutGap="1rem"
           fxLayoutAlign="space-between"
      >
        <mat-card-title>OUTs</mat-card-title>
        <mat-card-subtitle>leave fields blank if unknown</mat-card-subtitle>
      </div>
      <div class="col gap1 leftBorderS"
      >
        <ng-container *ngFor="let item of OUTs$|async; let i = index">
          <app-module-editor-cv-form-line [item]="item"
                                          (removeRequest$)="removeOUT$.next(i)"
                                          [@enter]
                                          [@exit]
          ></app-module-editor-cv-form-line>
        </ng-container>
      </div>
      <app-module-editor-adder-line (add$)="addOUT$.next($event)"
      ></app-module-editor-adder-line>

    </div>
  </div>
  
  
  <!--    <app-brand-primary-button>Add SWITCH</app-brand-primary-button>-->
  <ng-container *ngIf="
  ((INs$|async)|onlyNotSavedFormCVsLength)!== 0 ||
  ((OUTs$|async)|onlyNotSavedFormCVsLength) !== 0
"
  >
    <div fxLayout="row"
         fxLayout.lt-md="column"
         fxLayoutGap="1rem"
    >
      <app-advice-tooltip fxFlex="basis"
      >Update this only if data is incorrect or some is missing.
      </app-advice-tooltip>
      <mat-card-subtitle fxFlex="100"
                         fxLayoutAlign="end center"
      >Any changes you make will affect what all other users see
      </mat-card-subtitle>
    </div>
    <mat-divider inset="true"></mat-divider>
    <lib-auto-update-loading-indicator [data$]="dataService.singleModuleData$"
                                       [updateData$]="save$"
                                       loadingLabel="Saving data"
    >
      <app-brand-primary-button (click$)="save$.next()"
                                theme="positive"
                                fxLayoutAlign="end"
                                [disabled]="
                              (!(formGroupA|formValid))||
                              (!(formGroupB|formValid))
"
      >
        <mat-icon>save</mat-icon>
        Save INs and OUTs
      </app-brand-primary-button>
    </lib-auto-update-loading-indicator>
  </ng-container>

</div>
