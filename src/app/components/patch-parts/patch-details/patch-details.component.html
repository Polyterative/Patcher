<ng-container *ngIf="{
  connections:(dataService.patchesConnections$|async)
  } as bag"
>
  <div class="flow col gap1"
       fxLayoutGap.xs="0rem"
       style="padding-top: 2rem"
  >
    <app-auto-loading-indicator [data$]="dataService.patchesConnections$"
                                [updateData$]="dataService.updateSinglePatchData$"
    >
    
      <ng-container *ngIf="bag.connections.length>0; else noData">
        <lib-hero-content-card [titleNormal]="bag.connections.length+' Connections'"
        >
          <mat-card>
            <div class="flow col gap1"
            >
              <ng-container *ngFor="let item of dataService.patchesConnections$|async">
                <app-patch-connection-minimal [data]="item"></app-patch-connection-minimal>
                <mat-divider inset="true"></mat-divider>
              </ng-container>
            </div>
          </mat-card>
        </lib-hero-content-card>
      </ng-container>
    </app-auto-loading-indicator>
  </div>
  
  <ng-template #noData>
    <div fxFlex="auto">
      <div class="flow col gap1"
      >
        <mat-card-subtitle fxLayoutAlign="center center">It looks like this patch has no connections
        </mat-card-subtitle>
        <mat-card-subtitle fxLayoutAlign="center center">¯\_(ツ)_/¯
        </mat-card-subtitle>
      </div>
    </div>
  </ng-template>
</ng-container>
